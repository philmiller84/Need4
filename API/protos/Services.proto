syntax = "proto3";
package Need4Protocol;
import "google/protobuf/empty.proto";
import "protos/Action.proto";
import "protos/Item.proto";
import "protos/Sale.proto";
import "protos/Permission.proto";
import "protos/User.proto";
import "protos/Trade.proto";

service TradeService {
	rpc CreateTrade (Trade) returns (ActionResponse);
	rpc GetOpenTrades (google.protobuf.Empty) returns (TradeList);
	rpc GetDetailedTradeView (TradeUserRequest) returns (Trade);
	rpc GetTradeActions (TradeUserRequest) returns (TradeActionResponse);
	rpc GetPermissions (TradeUserRequest) returns (PermissionSet);
	rpc AddPermission (TradeUserPermissionRequest) returns (PermissionSet);
	rpc GetUserTrades (User) returns (TradeList);
}

service PermissionService {
	rpc IsUserPermissioned (UserPermission) returns (ActionResponse);
}

service ItemRepository {
	rpc AddNewItem (Item) returns (ActionResponse);
	rpc GetAllItems (google.protobuf.Empty) returns (ItemList);
	rpc GetMatchingItems (Item) returns (ItemList);
}

service SaleService {
	rpc CreateSale (Sale) returns (ActionResponse);
	rpc GetSales (google.protobuf.Empty) returns (SaleList);
}

service UserService {
	rpc GetUser (User) returns (User);
	rpc CreateUser (User) returns (User);
}